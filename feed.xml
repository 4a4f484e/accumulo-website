<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Apache Accumulo™</title>
    <description>The Apache Accumulo™ sorted, distributed key/value store is a robust, scalable, high performance data storage and retrieval system.
</description>
    <link>https://accumulo.apache.org/</link>
    <atom:link href="https://accumulo.apache.org/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 11 Apr 2018 14:08:28 -0400</pubDate>
    <lastBuildDate>Wed, 11 Apr 2018 14:08:28 -0400</lastBuildDate>
    <generator>Jekyll v3.6.2</generator>
    
    
      <item>
        <title>Apache Accumulo 1.7.4</title>
        <description>&lt;p&gt;Apache Accumulo 1.7.4 is a maintenance release on the 1.7 version branch. This release contains changes from 46 issues, comprised of bug-fixes, 
performance improvements, build quality improvements, and more. See &lt;a href=&quot;https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12312121&amp;amp;version=12339577&quot;&gt;Jira&lt;/a&gt; or the bottom of this page for a complete list.&lt;/p&gt;

&lt;p&gt;Below are resources for this release:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://accumulo.apache.org/1.7/accumulo_user_manual.html&quot;&gt;User Manual&lt;/a&gt; - In-depth developer and administrator documentation.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://accumulo.apache.org/1.7/apidocs/&quot;&gt;Javadocs&lt;/a&gt; - Accumulo 1.7.4 API&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://accumulo.apache.org/1.7/examples/&quot;&gt;Examples&lt;/a&gt; - Code with corresponding readme files that give step by step instructions for running example code.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Accumulo follows &lt;a href=&quot;http://semver.org/&quot;&gt;Semantic Versioning&lt;/a&gt; &lt;a href=&quot;https://github.com/apache/accumulo/blob/rel/1.7.4/README.md#api&quot;&gt;guidelines&lt;/a&gt;.  This release is a  “&lt;a href=&quot;http://semver.org/#spec-item-6&quot;&gt;patch version&lt;/a&gt;”, which means that
only backwards compatible bug fixes are introduced in this version. A bug fix is defined as an internal change that fixes incorrect behavior. Users
of any previous 1.7.x release are strongly encouraged to update as soon as possible to benefit from the  bug fixes with very little concern in change
of underlying functionality.  As always, the Accumulo developers take API compatibility very seriously and have invested much time to ensure that we
meet the promises set forth to our users. Users of 1.6 or earlier that are seeking to upgrade to 1.7 should consider 1.7.4 as a starting point.&lt;/p&gt;

&lt;h2 id=&quot;major-changes&quot;&gt;Major Changes&lt;/h2&gt;

&lt;h3 id=&quot;fixed-upgrade-process-to-set-version-on-all-volumes&quot;&gt;Fixed upgrade process to set version on all volumes&lt;/h3&gt;

&lt;p&gt;During upgrades, only one volume in a multiple HDFS volume was updated with the correct version. This would cause all tablet servers
to complain and ultimately fail. &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4686&quot;&gt;ACCUMULO-4686&lt;/a&gt; fixes this by setting the version on all volumes.&lt;/p&gt;

&lt;h3 id=&quot;updated-accumulo-to-work-with-new-releases-of-guava&quot;&gt;Updated Accumulo to work with new releases of Guava&lt;/h3&gt;

&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4702&quot;&gt;ACCUMULO-4702&lt;/a&gt;, dependencies on Beta-annotated Guava classes and methods were removed. While Accumulo still
includes Guava 14 in its tarball, it will work with newer versions of Guava in client code. It has been tested to work
with Guava 23.&lt;/p&gt;

&lt;h3 id=&quot;updated-rfile-to-prevent-very-large-blocks&quot;&gt;Updated RFile to prevent very large blocks&lt;/h3&gt;

&lt;p&gt;RFiles now use windowed statistics (&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4669&quot;&gt;ACCUMULO-4669&lt;/a&gt;) to prevent very large blocks.  In 1.7.3 a bug was introduced that
caused RFile data block sizes to grow very large in the case where key sizes slowly increased.  This could lead
to degraded query performance or out of memory exceptions on tablet servers.&lt;/p&gt;

&lt;h2 id=&quot;notable-changes&quot;&gt;Notable Changes&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4506&quot;&gt;ACCUMULO-4506&lt;/a&gt; - Add a timeout to a replication RPC call&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4619&quot;&gt;ACCUMULO-4619&lt;/a&gt; - Add splits hung forever&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4633&quot;&gt;ACCUMULO-4633&lt;/a&gt; - Added check to prevent division by zero&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4640&quot;&gt;ACCUMULO-4640&lt;/a&gt; - Accumulo shell is expecting instance.volumens in client.conf instead of accumulo-site.xml&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4657&quot;&gt;ACCUMULO-4657&lt;/a&gt; - BulkImport Performance Bottleneck&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4665&quot;&gt;ACCUMULO-4665&lt;/a&gt; - Must use the “real” user for RPCs when Kerberos is enabled&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4676&quot;&gt;ACCUMULO-4676&lt;/a&gt; - Use HTTPOnly flags in monitor to prevent XSS attacks&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4776&quot;&gt;ACCUMULO-4776&lt;/a&gt; - Fix advertised host in monitor&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4777&quot;&gt;ACCUMULO-4777&lt;/a&gt; - Root tablet got spammed with 1.8 million log entries&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4787&quot;&gt;ACCUMULO-4787&lt;/a&gt; - Close input stream in AccumuloReplicaSystem&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4809&quot;&gt;ACCUMULO-4809&lt;/a&gt; - Avoid blocking during session clean up&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4817&quot;&gt;ACCUMULO-4817&lt;/a&gt; - Update build plugins and parent POM&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;upgrading&quot;&gt;Upgrading&lt;/h2&gt;

&lt;p&gt;View the &lt;a href=&quot;https://accumulo.apache.org/docs/2.0/administration/upgrading&quot;&gt;Upgrading Accumulo documentation&lt;/a&gt; for guidance.&lt;/p&gt;

&lt;h2 id=&quot;testing&quot;&gt;Testing&lt;/h2&gt;

&lt;p&gt;Continuous ingest, random walk, and all integration test were run against RC0.
A few bugs were found and fixed before RC1.  Randomwalk was run overnight with
4 walkers.  Continuous ingest was run with 9 nodes for 22 hours followed by a
successful verification.  A Kerberos IT failed because the 1.7.4 pom depends
on Hadoop 2.2.0, the IT passed with a newer version of Hadoop.&lt;/p&gt;

&lt;h2 id=&quot;all-changes&quot;&gt;All Changes&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-1972&quot;&gt;ACCUMULO-1972&lt;/a&gt; - Fixed Range constructor&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-3208&quot;&gt;ACCUMULO-3208&lt;/a&gt; - Integration test for the OrIterator and cleanup&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-3283&quot;&gt;ACCUMULO-3283&lt;/a&gt; - Create ColumnFQ only once&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-3827&quot;&gt;ACCUMULO-3827&lt;/a&gt; - Set default store types for monitor ssl to jks&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4170&quot;&gt;ACCUMULO-4170&lt;/a&gt; - Clarify ClientConfiguration javadocs&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4365&quot;&gt;ACCUMULO-4365&lt;/a&gt; - Fixes to prevent intermittent failures in ShellServerIT and ConditionalWriterIT&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4482&quot;&gt;ACCUMULO-4482&lt;/a&gt; - Mention snappy compression in docs&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4506&quot;&gt;ACCUMULO-4506&lt;/a&gt; - Add a timeout to a replication RPC call&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4546&quot;&gt;ACCUMULO-4546&lt;/a&gt; - Create default log message for table error&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4555&quot;&gt;ACCUMULO-4555&lt;/a&gt; - Removes parsing of version string in Version class&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4576&quot;&gt;ACCUMULO-4576&lt;/a&gt; - Suppress warnings from deprecations&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4587&quot;&gt;ACCUMULO-4587&lt;/a&gt; - Upgrade Monitor jquery to 3.2.1&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4591&quot;&gt;ACCUMULO-4591&lt;/a&gt; - Add replication latency metrics&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4602&quot;&gt;ACCUMULO-4602&lt;/a&gt; - Deleted AssignmentThreadsIT&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4619&quot;&gt;ACCUMULO-4619&lt;/a&gt; - Add splits hung forever&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4627&quot;&gt;ACCUMULO-4627&lt;/a&gt; - Add corrupt WAL recovery instructions to user manual&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4633&quot;&gt;ACCUMULO-4633&lt;/a&gt; - Added check to prevent division by zero&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4636&quot;&gt;ACCUMULO-4636&lt;/a&gt; - System iterator improvements&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4640&quot;&gt;ACCUMULO-4640&lt;/a&gt; - Accumulo shell is expecting instance.volumens in client.conf instead of accumulo-site.xml&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4648&quot;&gt;ACCUMULO-4648&lt;/a&gt; - Update voting text in build.sh script&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4657&quot;&gt;ACCUMULO-4657&lt;/a&gt; - BulkImport Performance Bottleneck&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4658&quot;&gt;ACCUMULO-4658&lt;/a&gt; - Cache call to ZooKeeper to get table id map for the duration of the method&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4660&quot;&gt;ACCUMULO-4660&lt;/a&gt; - Sanitize incoming values from HTTP parameters&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4662&quot;&gt;ACCUMULO-4662&lt;/a&gt; - Fix ambiguous table reference&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4665&quot;&gt;ACCUMULO-4665&lt;/a&gt; - Use UGI with real Kerberos credentials&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4666&quot;&gt;ACCUMULO-4666&lt;/a&gt; - Improve KerberosToken sanity-checks and related doc&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4669&quot;&gt;ACCUMULO-4669&lt;/a&gt; - Use windowed statistics in RFile&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4676&quot;&gt;ACCUMULO-4676&lt;/a&gt; - Use HTTPOnly flags in monitor to prevent XSS attacks&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4682&quot;&gt;ACCUMULO-4682&lt;/a&gt; - Enforce import ordering&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4684&quot;&gt;ACCUMULO-4684&lt;/a&gt; - Basic schema outline for accumulo:replication&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4685&quot;&gt;ACCUMULO-4685&lt;/a&gt; - Fix minor warnings and bug in FileRefTest&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4686&quot;&gt;ACCUMULO-4686&lt;/a&gt; - Fix upgrade process to set version in all volumes.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4687&quot;&gt;ACCUMULO-4687&lt;/a&gt; - Clean up some static-analysis warnings&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4699&quot;&gt;ACCUMULO-4699&lt;/a&gt; - Fixed queued work key in replication&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4702&quot;&gt;ACCUMULO-4702&lt;/a&gt; - Code fixes to work with Guava 23&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4713&quot;&gt;ACCUMULO-4713&lt;/a&gt; - Correct handling min and max timestamps&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4716&quot;&gt;ACCUMULO-4716&lt;/a&gt; - Don’t cache blks over max array size&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4721&quot;&gt;ACCUMULO-4721&lt;/a&gt; - Document rfile-info in the user manual&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4741&quot;&gt;ACCUMULO-4741&lt;/a&gt; - Remove minified files in Monitor&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4774&quot;&gt;ACCUMULO-4774&lt;/a&gt; - Made conditional writer thread into daemon&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4776&quot;&gt;ACCUMULO-4776&lt;/a&gt; - Fix advertised host in monitor&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4777&quot;&gt;ACCUMULO-4777&lt;/a&gt; - Root tablet got spammed with 1.8 million log entries&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4780&quot;&gt;ACCUMULO-4780&lt;/a&gt; - Add overflow check to seq num in CommitSession&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4781&quot;&gt;ACCUMULO-4781&lt;/a&gt; - Fixed logging performance issue&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4787&quot;&gt;ACCUMULO-4787&lt;/a&gt; - Close input stream in AccumuloReplicaSystem&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4809&quot;&gt;ACCUMULO-4809&lt;/a&gt; - Avoid blocking during session cleanup&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4817&quot;&gt;ACCUMULO-4817&lt;/a&gt; - Update build plugins and parent POM&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Fri, 23 Mar 2018 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/release/accumulo-1.7.4/</link>
        <guid isPermaLink="true">https://accumulo.apache.org/release/accumulo-1.7.4/</guid>
        
        
        <category>release</category>
        
      </item>
    
      <item>
        <title>View Accumulo metrics in Grafana</title>
        <description>&lt;p&gt;The &lt;a href=&quot;/features/#screenshots&quot;&gt;Accumulo monitor&lt;/a&gt; provides the easiest way to view Accumulo metrics but it has two limitations:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The overview page is limited to 10 graphs&lt;/li&gt;
  &lt;li&gt;These graphs only show metrics for the past two hours&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The Accumulo monitor could be improved to be better a visualizaiton tool for metrics but this doesn’t make
sense when tools like &lt;a href=&quot;http://grafana.org/&quot;&gt;Grafana&lt;/a&gt;, &lt;a href=&quot;https://graphiteapp.org/&quot;&gt;Graphite&lt;/a&gt;, and &lt;a href=&quot;http://ganglia.sourceforge.net/&quot;&gt;Ganglia&lt;/a&gt; exist and Accumulo can report metrics to these tools
using &lt;a href=&quot;/docs/2.0/administration/monitoring-metrics#hadoop-metrics2&quot;&gt;Hadoop Metrics2&lt;/a&gt;. While it’s easy to configure Accumulo to send metrics, the hard part is
setting up and configuring a metrics visualization tool (i.e Graphite, Ganglia, Grafana/InfluxDB) to collect
and view these metrics.&lt;/p&gt;

&lt;p&gt;To ease this burden, this post describes how to send Accumulo metrics to &lt;a href=&quot;https://influxdb.com/&quot;&gt;InfluxDB&lt;/a&gt;, a time series database, 
and make them viewable in &lt;a href=&quot;http://grafana.org/&quot;&gt;Grafana&lt;/a&gt;, a visualization tool.&lt;/p&gt;

&lt;p&gt;Below is a screenshot of Accumulo metrics in Grafana:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/blog/201803_metrics/accumulo-metrics1.png&quot; width=&quot;100%&quot; /&gt;
&lt;img src=&quot;/images/blog/201803_metrics/accumulo-metrics2.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;set-up-metrics-using-uno&quot;&gt;Set up metrics using Uno&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/astralway/uno&quot;&gt;Uno&lt;/a&gt; can setup and configure InfluxDB/Grafana when it sets up Accumulo using the following command:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;uno setup accumulo --with-metrics
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Metrics from Accumulo will be immediately viewable in Grafana at &lt;a href=&quot;http://localhost:3000/&quot;&gt;http://localhost:3000/&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;set-up-metrics-manually&quot;&gt;Set up metrics manually&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Follow the standard installation instructions for &lt;a href=&quot;https://influxdb.com/&quot;&gt;InfluxDB&lt;/a&gt; and &lt;a href=&quot;http://grafana.org/&quot;&gt;Grafana&lt;/a&gt;. As for versions,
the instructions below were written using InfluxDB v0.9.4.2 and Grafana v2.5.0.&lt;/li&gt;
  &lt;li&gt;Add the following to your InfluxDB configuration to configure it accept metrics in Graphite
format from Accumulo. The configuration below contains templates that transform the Graphite
metrics into a format that is usable in InfluxDB.
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[[graphite]]
  bind-address = &quot;:2003&quot;
  enabled = true
  database = &quot;accumulo_metrics&quot;
  protocol = &quot;tcp&quot;
  consistency-level = &quot;one&quot;
  separator = &quot;_&quot;
  batch-size = 1000
  batch-pending = 5
  batch-timeout = &quot;1s&quot;
  templates = [
    &quot;accumulo.*.*.*.*.*.*.* measurement.measurement.measurement.d.e.f.host.measurement&quot;,
    &quot;accumulo.*.*.*.*.*.* measurement.measurement.measurement.d.e.host.measurement&quot;,
    &quot;accumulo.*.*.*.*.* measurement.measurement.measurement.d.host.measurement&quot;,
  ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Configure the Accumulo configuration file &lt;code class=&quot;highlighter-rouge&quot;&gt;hadoop-metrics2-accumulo.properties&lt;/code&gt; to send Graphite
metrics to InfluxDB. Below is example configuration. Remember to replace &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;INFLUXDB_HOST&amp;gt;&lt;/code&gt; with
the actual host.
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; *.period=30
 accumulo.sink.graphite.class=org.apache.hadoop.metrics2.sink.GraphiteSink
 accumulo.sink.graphite.server_host=&amp;lt;INFLUXDB_HOST&amp;gt;
 accumulo.sink.graphite.server_port=2003
 accumulo.sink.graphite.metrics_prefix=accumulo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;Make sure the reporting frequency is set to 30 sec (i.e &lt;code class=&quot;highlighter-rouge&quot;&gt;*.period=30&lt;/code&gt;). This is required if you are
using the provided Grafana dashboards that is configured in the next step.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Grafana needs to be configured to load dashboard JSON templates from a directory. Before restarting
Grafana, you should copy &lt;a href=&quot;https://raw.githubusercontent.com/astralway/uno/master/conf/grafana/accumulo-dashboard.json&quot;&gt;this Accumulo dashboard template&lt;/a&gt; to the &lt;code class=&quot;highlighter-rouge&quot;&gt;dashboards/&lt;/code&gt; directory
configured below.
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; [dashboards.json]
 enabled = true
 path = &amp;lt;GRAFANA_HOME&amp;gt;/dashboards
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;If you restart Grafana, you will see the Accumulo dashboard configured but all of their charts will
be empty unless you have Accumulo running and configured to send data to InfluxDB. When you start
sending data, you may need to refresh the dashboard page in the browser to start viewing metrics.&lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Thu, 22 Mar 2018 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/blog/2018/03/22/view-metrics-in-grafana.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2018/03/22/view-metrics-in-grafana.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Migrating to GitHub Issues</title>
        <description>&lt;p&gt;Apache Accumulo is migrating from &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO&quot;&gt;JIRA&lt;/a&gt; to &lt;a href=&quot;https://github.com/apache/accumulo/issues&quot;&gt;GitHub issues&lt;/a&gt;. The migration is starting with an initial plan, but it may change as the community uses it.  For a description of the initial operating plan see the &lt;a href=&quot;/how-to-contribute/#issues&quot;&gt;issues section of How to Contribute&lt;/a&gt; and the &lt;a href=&quot;/contributor/making-release#triage-issues&quot;&gt;triaging issues section of Making a Release&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;motivation&quot;&gt;Motivation&lt;/h2&gt;

&lt;p&gt;Doing routine activities in less time is one motivation for the migration.  Below are some examples.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;For GitHub a pull request is an issue. Therefore, creating an issue before a pull request is optional. Before the migration, an issue needed to be created in JIRA before creating a pull request. This was cumbersome for small changes.&lt;/li&gt;
  &lt;li&gt;When browsing commits in GitHub, issue numbers can be clicked.&lt;/li&gt;
  &lt;li&gt;Discussions on pull request can easily reference issues with simple markdown syntax.&lt;/li&gt;
  &lt;li&gt;Commits can close issues if the commit message contains “fixes #xyz”&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;migration&quot;&gt;Migration&lt;/h2&gt;

&lt;p&gt;There is no plan to migrate all existing issues in JIRA. The plan is to only migrate issues that someone is interested in or are actively being worked. Migration is done by linking the JIRA and GitHub issues to each other and then closing the JIRA issue. No new issues should be opened in JIRA.  JIRA will eventually be transitioned to a read only state.&lt;/p&gt;

</description>
        <pubDate>Fri, 16 Mar 2018 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/blog/2018/03/16/moving-to-github-issues.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2018/03/16/moving-to-github-issues.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Take the Accumulo Tour!</title>
        <description>&lt;p&gt;Apache Accumulo now has a &lt;a href=&quot;/tour/&quot;&gt;hands-on tour&lt;/a&gt; that introduces users to key Accumulo concepts
by completing a series of programming exercises. Don’t worry! Solutions are provided if
you get stuck.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;/tour/&quot;&gt;tour&lt;/a&gt; has a ‘Getting Started’ page that helps you set up your development environment and
clone a repository with template code. After you are set up, the tour has exercises that cover the
following Accumulo concepts:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Writing and Reading from Accumulo&lt;/li&gt;
  &lt;li&gt;Data Model&lt;/li&gt;
  &lt;li&gt;Authorizations&lt;/li&gt;
  &lt;li&gt;Ranges &amp;amp; Splits&lt;/li&gt;
  &lt;li&gt;Batch Scanner&lt;/li&gt;
  &lt;li&gt;Conditional Writer&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;More exercises (such as one on Accumulo Iterators) will be added in the future so check for updates.&lt;/p&gt;

</description>
        <pubDate>Tue, 12 Dec 2017 00:00:00 -0500</pubDate>
        <link>https://accumulo.apache.org/blog/2017/12/12/take-the-accumulo-tour.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2017/12/12/take-the-accumulo-tour.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Accumulo Summit is on October 16th!</title>
        <description>&lt;p&gt;&lt;a href=&quot;http://accumulosummit.com/&quot;&gt;&lt;img src=&quot;/images/accumulo-summit-2017-logo-horizontal.png&quot; alt=&quot;Accumulo Summit&quot; width=&quot;400px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The fourth annual &lt;a href=&quot;http://accumulosummit.com/&quot;&gt;Accumulo Summit&lt;/a&gt; will be held on October 16, 2017 at the &lt;a href=&quot;http://www.sheratoncolumbia.com/&quot;&gt;Sheraton Hotel&lt;/a&gt; in Columbia, MD.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://accumulosummit.com/register/&quot;&gt;Registration&lt;/a&gt; is now open! Early bird pricing ends on August 14th.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://accumulosummit.com/program/submit-talk/&quot;&gt;Submit a talk&lt;/a&gt; if you would like to speak at the event.&lt;/p&gt;

</description>
        <pubDate>Thu, 27 Jul 2017 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/blog/2017/07/27/accumulo-summmit-on-october-16.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2017/07/27/accumulo-summmit-on-october-16.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Documentation Improvements for 2.0</title>
        <description>&lt;p&gt;Since Accumulo 1.7, the &lt;a href=&quot;/1.8/accumulo_user_manual.html&quot;&gt;Accumulo user manual&lt;/a&gt; source resided in the &lt;a href=&quot;https://github.com/apache/accumulo&quot;&gt;source repository&lt;/a&gt; as asciidoc. For every release or update to the manual,
an HTML document is produced from the asciidoc, committed to the &lt;a href=&quot;https://github.com/apache/accumulo-website&quot;&gt;project website repository&lt;/a&gt;, and published to the website. This process will remain
for 1.x releases.&lt;/p&gt;

&lt;p&gt;For 2.0, the source for the user manual was converted to markdown and moved to the &lt;a href=&quot;https://github.com/apache/accumulo-website&quot;&gt;website repository&lt;/a&gt;. The
&lt;a href=&quot;/docs/2.0/&quot;&gt;upcoming 2.0 documentation&lt;/a&gt; has several improvements over the older documentation:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Improved navigation using a new sidebar&lt;/li&gt;
  &lt;li&gt;Changes to the documentation are now immediately viewable on the website&lt;/li&gt;
  &lt;li&gt;Better linking to Javadocs and between documentation pages&lt;/li&gt;
  &lt;li&gt;Documentation style now matches the website&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;While the &lt;a href=&quot;/docs/2.0/&quot;&gt;2.0 documentation&lt;/a&gt; is viewable, it is not linked to (except by this post) and every page contains a warning that the documentation
is for a future release. Each page also links to the documentation for the latest release.&lt;/p&gt;

&lt;p&gt;It is now much easier to view, edit, and propose changes to the documentation. If you would like to contribute to the documentation for 2.0, view
the &lt;a href=&quot;/docs/2.0/&quot;&gt;documentation&lt;/a&gt;. Each page has an &lt;strong&gt;Edit this page&lt;/strong&gt; link that will take you to GitHub where you can edit the markdown for the page, preview it,
and submit a pull request to the &lt;a href=&quot;https://github.com/apache/accumulo-website&quot;&gt;website repository&lt;/a&gt;. A committer will review your changes so don’t be afraid to contribute!&lt;/p&gt;

</description>
        <pubDate>Thu, 29 Jun 2017 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/blog/2017/06/29/accumulo-documentation-improvements.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2017/06/29/accumulo-documentation-improvements.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Introducing Uno and Muchos</title>
        <description>&lt;p&gt;While &lt;a href=&quot;https://github.com/apache/accumulo/blob/master/INSTALL.md&quot;&gt;Accumulo’s installation instructions&lt;/a&gt; are simple, it can be time consuming to install Accumulo
given its requirement on &lt;a href=&quot;https://hadoop.apache.org/&quot;&gt;Hadoop&lt;/a&gt; and &lt;a href=&quot;https://zookeeper.apache.org/&quot;&gt;Zookeeper&lt;/a&gt; being installed and running. For a one-time production
installation, this set up time (which can take up to an hour) is not much of an inconvenience. However, it can become a burden
for developers who need to frequently set up Accumulo to test code changes, switch between different
versions, or start a fresh instance on a laptop.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/astralway/uno&quot;&gt;Uno&lt;/a&gt; and &lt;a href=&quot;https://github.com/astralway/muchos&quot;&gt;Muchos&lt;/a&gt; are tools that ease the burden on developers of installing Accumulo and its dependencies.
The names of Uno and Muchos indicate their use case. Uno is designed for running Accumulo on a single node
while Muchos is designed for running Accumulo on a cluster. While Uno and Muchos will install by default the most
recent stable release of Accumulo, Hadoop, and Zookeeper, it is easy to configure different versions to
match a production cluster.&lt;/p&gt;

&lt;p&gt;The sections below show how to use these tools. For more complete documentation, view their respective GitHub
pages.&lt;/p&gt;

&lt;h2 id=&quot;uno&quot;&gt;Uno&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/astralway/uno&quot;&gt;Uno&lt;/a&gt; is a command line tool that sets up Accumulo on a single machine. It can be installed by cloning the
Uno git repo.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/astralway/uno.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;uno
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Uno works out of the box but it can be customized by modifying &lt;code class=&quot;highlighter-rouge&quot;&gt;conf/uno.conf&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;First, download the Accumulo, Hadoop, and Zookeeper tarballs from Apache by using the command below:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./bin/uno fetch accumulo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The fetch command places all tarballs in the &lt;code class=&quot;highlighter-rouge&quot;&gt;downloads/&lt;/code&gt; directory. Uno can be configured (in &lt;code class=&quot;highlighter-rouge&quot;&gt;conf/uno.conf&lt;/code&gt;)
to build an Accumulo tarball from a local git repo when &lt;code class=&quot;highlighter-rouge&quot;&gt;fetch&lt;/code&gt; is called.&lt;/p&gt;

&lt;p&gt;After downloading tarballs, the command below sets up Accumulo, Hadoop &amp;amp; Zookeeper in the &lt;code class=&quot;highlighter-rouge&quot;&gt;install/&lt;/code&gt; directory.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./bin/uno setup accumulo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Accumulo, Hadoop, &amp;amp; Zookeeper are now ready to use. You can view the Accumulo monitor at
&lt;a href=&quot;http://localhost:9995&quot;&gt;http://localhost:9995&lt;/a&gt;. You can configure your shell using the command below:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;./bin/uno env&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Run &lt;code class=&quot;highlighter-rouge&quot;&gt;uno stop accumulo&lt;/code&gt; to cleanly stop your cluster and &lt;code class=&quot;highlighter-rouge&quot;&gt;uno start accumulo&lt;/code&gt; to start it again.&lt;/p&gt;

&lt;p&gt;If you need a fresh cluster, you can run &lt;code class=&quot;highlighter-rouge&quot;&gt;uno setup accumulo&lt;/code&gt; again. To kill your cluster, run &lt;code class=&quot;highlighter-rouge&quot;&gt;uno kill&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;muchos&quot;&gt;Muchos&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/astralway/muchos&quot;&gt;Muchos&lt;/a&gt; is a command line tool that launches an AWS EC2 cluster with Accumulo set up on it. It is installed by
cloning its git repo.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/astralway/muchos.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;muchos
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Before using Muchos, create &lt;code class=&quot;highlighter-rouge&quot;&gt;muchos.props&lt;/code&gt; in &lt;code class=&quot;highlighter-rouge&quot;&gt;conf/&lt;/code&gt; and edit it for your AWS environment.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cp conf/muchos.props.example conf/muchos.props
vim conf/muchos.props
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Next, run the command below to launch a cluster in AWS.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;muchos launch &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; mycluster
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After launching the cluster, set up Accumulo on it using the following command.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;muchos setup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;muchos ssh&lt;/code&gt; to ssh to the cluster and &lt;code class=&quot;highlighter-rouge&quot;&gt;muchos terminate&lt;/code&gt; to terminate all EC2 nodes when you are finished.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Uno and Muchos automate installing Accumulo for development and testing. While not recommended for production
use at this time, Muchos is a great reference for running Accumulo in production. System administrators can
reference the &lt;a href=&quot;https://www.ansible.com/&quot;&gt;Ansible&lt;/a&gt; code in Muchos to automate management of their own clusters.&lt;/p&gt;

</description>
        <pubDate>Fri, 21 Apr 2017 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/blog/2017/04/21/introducing-uno-and-muchos.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2017/04/21/introducing-uno-and-muchos.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Apache Accumulo 1.7.3</title>
        <description>&lt;p&gt;Apache Accumulo 1.7.3 is a maintenance release on the 1.7 version branch. This release contains changes from 79 issues, comprised of bug-fixes, 
performance improvements, build quality improvements, and more. See&lt;br /&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12312121&amp;amp;version=12335841&quot;&gt;JIRA&lt;/a&gt; for a complete list.&lt;/p&gt;

&lt;p&gt;Below are resources for this release:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://accumulo.apache.org/1.7/accumulo_user_manual.html&quot;&gt;User Manual&lt;/a&gt; : In-depth developer and administrator documentation.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://accumulo.apache.org/1.7/apidocs/&quot;&gt;Javadocs&lt;/a&gt;  : Accumulo 1.7.3 API&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://accumulo.apache.org/1.7/examples/&quot;&gt;Examples&lt;/a&gt; : Code with corresponding readme files that give step by step instructions for running example code.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Accumulo follows &lt;a href=&quot;http://semver.org/&quot;&gt;Semantic Versioning&lt;/a&gt; &lt;a href=&quot;https://github.com/apache/accumulo/blob/rel/1.7.3/README.md#api&quot;&gt;guidelines&lt;/a&gt;.  This release is a 
“&lt;a href=&quot;http://semver.org/#spec-item-6&quot;&gt;patch version&lt;/a&gt;”, which  means that only backwards compatible bug fixes are introduced in this version. A bug fix is defined as 
an internal change that fixes incorrect behavior. Users of any previous 1.7.x release are strongly encouraged to update as soon as possible to benefit from the 
bug fixes with very little concern in change of underlying functionality.  As always, the Accumulo developers take API compatibility very seriously 
and have invested much time to ensure that we meet the promises set forth to our users. Users of 1.6 or earlier that are seeking to upgrade to 1.7 should 
consider 1.7.3 as a starting point.&lt;/p&gt;

&lt;h2 id=&quot;major-changes&quot;&gt;Major Changes&lt;/h2&gt;

&lt;h3 id=&quot;tablet-server-performance-improvement&quot;&gt;Tablet Server Performance Improvement&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4458&quot;&gt;ACCUMULO-4458&lt;/a&gt; mitigated some contention on the Hadoop configuration instance backing the XML configs 
read for SiteConfiguration. This should improve overall Tablet Server performance.&lt;/p&gt;

&lt;h3 id=&quot;synchronization-issue-with-deep-copies-of-sources&quot;&gt;Synchronization issue with deep copies of sources&lt;/h3&gt;

&lt;p&gt;Deep copies of iterator sources were not thread safe and threw exceptions, mostly down in the ZlibDecompressor library. The real bug was in the 
BoundedRangeFileInputStream. The read() method synchronizes on the underlying FSDataInputStream, however the available() method did not. 
See &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4391&quot;&gt;ACCUMULO-4391&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;system-permission-bug-in-thrift-proxy&quot;&gt;System permission bug in Thrift Proxy&lt;/h3&gt;

&lt;p&gt;The Accumulo Proxy lacked support for the following system permissions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;System.CREATE_NAMESPACE&lt;/li&gt;
  &lt;li&gt;System.DROP_NAMESPACE&lt;/li&gt;
  &lt;li&gt;System.ALTER_NAMESPACE&lt;/li&gt;
  &lt;li&gt;System.OBTAIN_DELEGATION_TOKEN&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Without these permissions, proxy users would get an AccumuloException if attempting
any of those operations.  Fixed in ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4519&quot;&gt;ACCUMULO-4519&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;hostregextableloadbalancer-used-stale-information&quot;&gt;HostRegexTableLoadBalancer used stale information&lt;/h3&gt;

&lt;p&gt;The HostRegexTableLoadBalancer maintains an internal mapping of tablet server pools and tablet server status. It was updated at a configurable interval 
initially as an optimization. Unfortunately it had the negative side effect of providing the assignment and balance operations with stale information. 
This lead to a constant shuffling of tablets. The configuration property was removed so that assign/balance methods get updated information every time. 
See &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4576&quot;&gt;ACCUMULO-4576&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;modify-tableoperations-online-to-check-for-table-state&quot;&gt;Modify TableOperations online to check for table state&lt;/h3&gt;

&lt;p&gt;The table operations online operation executes as a fate operation. If a transaction lock for the table is currently held, this operation will block even 
if no action is needed. &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4574&quot;&gt;ACCUMULO-4574&lt;/a&gt; changes the behavior of the online operation to a NOOP if the 
table is already in the requested state. This returns immediately without queuing a fate operation.&lt;/p&gt;

&lt;h2 id=&quot;other-notable-changes&quot;&gt;Other Notable Changes&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4600&quot;&gt;ACCUMULO-4600&lt;/a&gt; Shell does not fall back to accumulo-site.xml when on classpath&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4597&quot;&gt;ACCUMULO-4597&lt;/a&gt; NPE from RFile PrintInfo when RF has more than 1,000 column families.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4488&quot;&gt;ACCUMULO-4488&lt;/a&gt; Fix gap in user manual on Kerberos for clients&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-2724&quot;&gt;ACCUMULO-2724&lt;/a&gt; CollectTabletStats had multiple -t parameter&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4431&quot;&gt;ACCUMULO-4431&lt;/a&gt; Log what random is chosen for a tserver.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4549&quot;&gt;ACCUMULO-4549&lt;/a&gt; Remove duplicate init functions in TabletBalancer&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4467&quot;&gt;ACCUMULO-4467&lt;/a&gt; Random Walk broken because of unmet dependency on commons-math&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4578&quot;&gt;ACCUMULO-4578&lt;/a&gt; Cancel compaction FATE operation does not release namespace lock&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4505&quot;&gt;ACCUMULO-4505&lt;/a&gt; Shell still reads accumulo-site.xml when using Zookeeper CLI options&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4535&quot;&gt;ACCUMULO-4535&lt;/a&gt; HostRegexTableLoadBalancer fails with NullPointerException&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4575&quot;&gt;ACCUMULO-4575&lt;/a&gt; Concurrent table delete operations leave orphan fate transaction locks&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;upgrading&quot;&gt;Upgrading&lt;/h2&gt;

&lt;p&gt;The recommended way to upgrade from a prior 1.7.x release is to stop Accumulo, upgrade to 1.7.3 and then start 1.7.3.&lt;/p&gt;

&lt;p&gt;When upgrading, there is a known issue if the upgrade fails due to outstanding &lt;a href=&quot;https://accumulo.apache.org/1.7/accumulo_user_manual.html#_fault_tolerant_executor_fate&quot;&gt;FATE&lt;/a&gt;
operations, see &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-4496&quot;&gt;ACCUMULO-4496&lt;/a&gt; The work around if this situation is encountered:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Start tservers&lt;/li&gt;
  &lt;li&gt;Start shell&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;highlighter-rouge&quot;&gt;fate print&lt;/code&gt; to list all&lt;/li&gt;
  &lt;li&gt;If completed, just delete with &lt;code class=&quot;highlighter-rouge&quot;&gt;fate delete&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Start masters once there are no more fate operations&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If any of the FATE operations are not complete, you should rollback the upgrade and troubleshoot completing them with your prior version. 
When performing an upgrade between major versions, the upgrade is one-way, therefore it is important that you do not have any outstanding 
FATE operations before starting the upgrade.&lt;/p&gt;

&lt;h3 id=&quot;from-16-to-17&quot;&gt;From 1.6 to 1.7&lt;/h3&gt;

&lt;p&gt;Upgrades from 1.6 to 1.7 are be possible with little effort as no changes were made at the data layer and RPC changes
were made in a backwards-compatible way. The recommended way is to stop Accumulo 1.6, perform the Accumulo upgrade to
1.7, and then start 1.7. Like previous versions, after 1.7.0 is started on a 1.6 instance, a one-time upgrade will
happen by the Master which will prevent a downgrade back to 1.6. Upgrades are still one way. Upgrades from versions
prior to 1.6 to 1.7 should follow the below path to 1.6 and then perform the upgrade to 1.7 – direct upgrades to 1.7
for versions other than 1.6 are untested.&lt;/p&gt;

&lt;p&gt;After upgrading to 1.7.0, users will notice the addition of a &lt;code class=&quot;highlighter-rouge&quot;&gt;replication&lt;/code&gt; table in the &lt;code class=&quot;highlighter-rouge&quot;&gt;accumulo&lt;/code&gt; namespace. This
table is created and put offline to avoid any additional maintenance if the data-center replication feature is not
in use.&lt;/p&gt;

&lt;p&gt;Existing configuration files from 1.6 should be compared against the examples provided in 1.7. The 1.6 configuration
files should all function with 1.7 code, but you will likely want to include a new file (hadoop-metrics2-accumulo.properties)
to enable the new metrics subsystem. Read the section on Hadoop Metrics2 in the Administration chapter of the Accumulo User Manual.&lt;/p&gt;

&lt;p&gt;For each of the other new features, new configuration properties exist to support the feature. Refer to the added
sections in the User Manual for the feature for information on how to properly configure and use the new functionality.&lt;/p&gt;

&lt;h2 id=&quot;testing&quot;&gt;Testing&lt;/h2&gt;

&lt;p&gt;Each unit and functional test only runs on a single node, while the RandomWalk and Continuous Ingest tests run on any number of nodes. Agitation refers to randomly restarting Accumulo processes and Hadoop Datanode processes, and, in HDFS High-Availability instances, forcing NameNode failover.&lt;/p&gt;

&lt;table id=&quot;release_notes_testing&quot; class=&quot;table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;OS/Environment&lt;/th&gt;
      &lt;th&gt;Hadoop&lt;/th&gt;
      &lt;th&gt;Nodes&lt;/th&gt;
      &lt;th&gt;ZooKeeper&lt;/th&gt;
      &lt;th&gt;HDFS HA&lt;/th&gt;
      &lt;th&gt;Tests&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;CentOS 7, openJDK 1.8 from CentOS yum repo, EC2; 1 leader m3.xlarge, 8 workers d2.xlarge&lt;/td&gt;
      &lt;td&gt;2.7.3&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;3.4.9&lt;/td&gt;
      &lt;td&gt;No&lt;/td&gt;
      &lt;td&gt;24 HR Continuous Ingest without Agitation&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CentOS 7, openJDK 1.8 from CentOS yum repo, EC2; 1 leader m3.xlarge, 8 workers d2.xlarge&lt;/td&gt;
      &lt;td&gt;2.7.3&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;3.4.9&lt;/td&gt;
      &lt;td&gt;No&lt;/td&gt;
      &lt;td&gt;24 HR Continuous Ingest Agitation&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

</description>
        <pubDate>Thu, 06 Apr 2017 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/release/accumulo-1.7.3/</link>
        <guid isPermaLink="true">https://accumulo.apache.org/release/accumulo-1.7.3/</guid>
        
        
        <category>release</category>
        
      </item>
    
      <item>
        <title>Happy Anniversary Accumulo</title>
        <description>&lt;p&gt;This month, Apache Accumulo is celebrating five years as a top-level project
at the Apache Software Foundation.&lt;/p&gt;

&lt;p&gt;To celebrate, we got a cake!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/cake.jpg&quot; alt=&quot;&quot; width=&quot;400px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The community would like to thank everyone that has been a part of Accumulo
over the past years and to those involved before that during its time in the ASF Incubator.&lt;/p&gt;

&lt;p&gt;As always, we look forward to continued activity from everyone. Happy Accumul-ating!&lt;/p&gt;
</description>
        <pubDate>Tue, 21 Mar 2017 00:00:00 -0400</pubDate>
        <link>https://accumulo.apache.org/blog/2017/03/21/happy-anniversary-accumulo.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2017/03/21/happy-anniversary-accumulo.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Security Performance Implications</title>
        <description>
&lt;p&gt;The purpose of this two part series was to measure the performance impact of
various security configurations on a cluster running Apache Accumulo’s
continuous ingest suite. The tests were performed using Amazon Web
Services (AWS), Hortonworks Data Platform 2.4 and Accumulo 1.7. Each of
the five different security settings in Accumulo 1.7 was tested including 
no security, SSL, and SASL with Kerberos authentication for the three quality 
of protection levels (auth, auth-int, auth-conf).  KDC was MIT.  HDFS was 
configured to use Kerberos for authentication and had service level 
authorization on. Other than that, no other security settings (HTTPS, RPC 
protection, data transfer encryption, etc) were enabled.  Timely was a 
separate, single node HDFS/Zookeeper/Accumulo instance.&lt;/p&gt;

&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;

&lt;p&gt;All runs utilized the continuous ingest suite that ships with Accumulo (a
standard method to measure performance in Accumulo).  It generates random 
graph data and inserts it into Accumulo, creating
a long linked list of entries.  Part 1 was run with just continuous ingest.&lt;br /&gt;
Based on the test results, there was a measurable performance impact as each additional security configuration was put in place.&lt;/p&gt;

&lt;h2 id=&quot;methodology&quot;&gt;Methodology&lt;/h2&gt;

&lt;p&gt;We ran 5 tests, one for each security configuration.  Each iteration of each test inserted 2 billion entries.  Batch writers were configured with 500K max mem 
to artificially inflate the overall write overhead. This was performed on a
small cluster on AWS.&lt;/p&gt;

&lt;p&gt;Each test used one of the following security configurations:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;No security - Default&lt;/li&gt;
  &lt;li&gt;Two way SSL&lt;/li&gt;
  &lt;li&gt;Kerberos/SASL with auth
    &lt;ul&gt;
      &lt;li&gt;auth is just Kerberos authentication between client and server.  Each end of the RPC definitively knows who the other is.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Kerberos/SASL with auth-int
    &lt;ul&gt;
      &lt;li&gt;Builds on auth, also providing message integrity checks of the data going across the wire. You also know that the message you received was not altered.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Kerberos/SASL with auth-conf
    &lt;ul&gt;
      &lt;li&gt;Builds on auth-int, also providing confidentiality of the message that was sent to prevent others from reading it (aka wire-encryption).&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For each test, five iterations were run to obtain a min, max, and median
time elapsed at each security configuration. After each iteration,
Hadoop, and Zookeeper processes were restarted, Accumulo tables are
wiped clean and tables are recreated. In addition, pagecache, dentries
and inodes are dropped by issuing a ‘3’ command on
/proc/sys/vm/drop_caches to ensure that the OS is not caching things to disk
that might affect the benchmark. The following sequence was performed 
between iterations:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Bring down Accumulo&lt;/li&gt;
  &lt;li&gt;Bring down Zookeeper&lt;/li&gt;
  &lt;li&gt;Bring down Hadoop&lt;/li&gt;
  &lt;li&gt;Run sync command&lt;/li&gt;
  &lt;li&gt;Drop OS cache&lt;/li&gt;
  &lt;li&gt;Bring up Hadoop&lt;/li&gt;
  &lt;li&gt;Bring up Zookeeper&lt;/li&gt;
  &lt;li&gt;Bring up Accumulo&lt;/li&gt;
  &lt;li&gt;Drop tables&lt;/li&gt;
  &lt;li&gt;Create tables&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;For each iteration, the results were stored, fed into &lt;a href=&quot;https://nationalsecurityagency.github.io/timely/&quot;&gt;Timely&lt;/a&gt;, and viewed with Grafana.
Since the runs were executed sequentially, the start epochs for each run did not align.
To mitigate, the entries for each run were inserted 
with the same relative epoch for convenient comparison in Grafana.&lt;/p&gt;

&lt;p&gt;The table configurations for Accumulo remain the same throughout the
different iterations and security levels. The Accumulo site
configurations differ only due to the different settings for the
security level configurations.&lt;/p&gt;

&lt;h2 id=&quot;environment&quot;&gt;Environment&lt;/h2&gt;

&lt;p&gt;In order to perform the testing, a small AWS cluster was setup using 14
hosts on EC2. Two i2.xlarge instances were used as master nodes and eight
d2.xlarge instances were used for workers. In addition, two c4.4xlarge
instances were used for ingesters, one m4.2xlarge instance was used for
Timely, and one m4.xlarge instance was used for Apache Ambari. A logical
diagram of the setup is depicted below:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/blog/201702_security/figure1.png&quot; alt=&quot;&quot; width=&quot;400px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Figure 1 - Cluster Layout, Roles, and Instance Types on AWS.&lt;/p&gt;

&lt;p&gt;The types of nodes and their function are given below:&lt;/p&gt;

&lt;table id=&quot;instance_types&quot; class=&quot;table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Node Type&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;AWS EC2 Type&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;EC2 Type Details&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Quantity&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Ingest Nodes&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;c4.4xlarge&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;16 core, 30 GB RAM&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Worker Node&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;d2.xlarge&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4 cores, 30.5 GB RAM, 3x2T GB HD&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Master Node&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;i2.xlarge&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4 cores, 30.5 GB RAM, 1x800GB SSD&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Admin Node&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;m4.xlarge&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4 cores, 16 GB RAM&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Timely Node&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;m4.2xlarge&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8 cores, 32 GB RAM&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Table 1 – AWS Instance Types, Role, Details, and Quantities&lt;/p&gt;

&lt;h2 id=&quot;results&quot;&gt;Results&lt;/h2&gt;

&lt;p&gt;The median, max, and min of the milliseconds elapsed
time of all iterations for each test is displayed below. The percentage change
columns compare the Median, Max, and Min respectively from the no
security level to each security configuration (e.g. no security Median
vs. auth-int Median, no security Max vs. auth-int Max).&lt;/p&gt;

&lt;table id=&quot;results&quot; class=&quot;table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Security Level&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Median&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Standard Deviation&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Max&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Min&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;% Change (nosec Median vs. Median)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;% Change (nosec Max vs. Max)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;% Change (nosec Min vs. Min)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Delta from Previous Level (Median)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;no security&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7829394&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;139340&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8143035&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7764309&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.00%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.00%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.00%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.00%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ssl&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8292760&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;87012&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8464060&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8204955&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5.92%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3.94%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5.68%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5.92%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;auth&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8859552&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;134109&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9047971&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8657618&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13.16%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11.11%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11.51%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;6.83%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;auth-int&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9500737&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;155968&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9753424&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9282371&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;21.34%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;19.78%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;19.55%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7.24%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;auth-conf&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9479635&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;170823&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9776580&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9282189&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;21.08%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;20.06%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;19.55%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;-0.22%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Table 2 – Summarized Time Elapsed for Each Security Level&lt;/p&gt;

&lt;h2 id=&quot;plots&quot;&gt;Plots&lt;/h2&gt;

&lt;p&gt;Below are some snapshots of *stats.out elements via Grafana that were inserted
into Timely with the same relative start time.  Each graph represents a field 
in the output generated by &lt;a href=&quot;https://github.com/apache/accumulo/blob/1.7/test/src/main/java/org/apache/accumulo/test/continuous/ContinuousStatsCollector.java&quot;&gt;ContinuousStatsCollector&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;table_recs&quot;&gt;&lt;a href=&quot;https://github.com/apache/accumulo/blob/1.7/core/src/main/java/org/apache/accumulo/core/master/thrift/TableInfo.java#L73&quot;&gt;TABLE_RECS&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;(Number of records in the continuous ingest table.  Down sample=1m, aggregate=avg)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/images/blog/201702_security/tableRecs.png&quot;&gt;&lt;img src=&quot;/images/blog/201702_security/tableRecs.png&quot; alt=&quot;&quot; width=&quot;800px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;total_ingest&quot;&gt;&lt;a href=&quot;https://github.com/apache/accumulo/blob/1.7/core/src/main/java/org/apache/accumulo/core/master/thrift/TableInfo.java#L77&quot;&gt;TOTAL_INGEST&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;(Ingest rate for Accumulo instance.  Down sample=5m, aggregate=avg)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/images/blog/201702_security/totalIngest.png&quot;&gt;&lt;img src=&quot;/images/blog/201702_security/totalIngest.png&quot; alt=&quot;&quot; width=&quot;800px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;avg_filestablet&quot;&gt;&lt;a href=&quot;https://github.com/apache/accumulo/blob/1.7/core/src/main/java/org/apache/accumulo/core/util/Stat.java#L63&quot;&gt;AVG_FILES/TABLET&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;(Average number of files per Accumulo tablet.  Down sample=1m, aggregate=avg)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/images/blog/201702_security/avgFilesTab.png&quot;&gt;&lt;img src=&quot;/images/blog/201702_security/avgFilesTab.png&quot; alt=&quot;&quot; width=&quot;800px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;accumulo_files&quot;&gt;&lt;a href=&quot;https://github.com/apache/accumulo/blob/1.7/test/src/main/java/org/apache/accumulo/test/continuous/ContinuousStatsCollector.java#L127&quot;&gt;ACCUMULO_FILES&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;(Total number of files for Accumulo.  Down sample=1m, aggregate=avg)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/images/blog/201702_security/accumuloFiles.png&quot;&gt;&lt;img src=&quot;/images/blog/201702_security/accumuloFiles.png&quot; alt=&quot;&quot; width=&quot;800px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As can be seen in the plots above, the different security settings have 
relatively consistent, discernible median run characteristics.  The big
dip in each TOTAL_INGEST coincides with a large number of major
compactions, a rate decrease for TABLE_RECS, and a decrease in 
AVG_FILES/TABLET.&lt;/p&gt;

&lt;h2 id=&quot;final-thoughts&quot;&gt;Final Thoughts&lt;/h2&gt;

&lt;p&gt;The biggest performance 
hits to run duration median (compared to default security) were ~21% for 
auth-int and auth-conf.  Interesting to note that SSL’s median run duration was 
lower than all SASL configs and that auth-conf’s was lower than auth-int. 
Initial  speculation for these oddities revolved around the 
&lt;a href=&quot;https://github.com/m1ch1/mapkeeper/wiki/Thrift-Java-Servers-Compared&quot;&gt;Thrift server&lt;/a&gt; 
implementations, but the Thrift differences will not explain the auth-conf/int 
disparity since both utilize TThreadPoolServer.  It was certainly unexpected that the 
addition of wire encryption would yield a faster median run duration.  This result 
prompted, as a sanity check, sniffing the net traffic (in a contrived example 
not during a timed run) in both auth-conf and auth-int to ensure that the message 
contents were actually obfuscated in auth-conf (they were) and not obfuscated in 
auth-int (they weren’t).&lt;/p&gt;

&lt;h2 id=&quot;future-work&quot;&gt;Future Work&lt;/h2&gt;

&lt;p&gt;Part 2 of this series will consist of the same continuous ingest loads and 
configurations with the addition of a query load on the system.&lt;/p&gt;

</description>
        <pubDate>Mon, 06 Mar 2017 00:00:00 -0500</pubDate>
        <link>https://accumulo.apache.org/blog/2017/03/06/security-performance-implications.html</link>
        <guid isPermaLink="true">https://accumulo.apache.org/blog/2017/03/06/security-performance-implications.html</guid>
        
        
        <category>blog</category>
        
      </item>
    
  </channel>
</rss>
