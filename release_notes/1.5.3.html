<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="/css/dataTables.bootstrap.css" rel="stylesheet">
<link href="/css/accumulo.css" rel="stylesheet" type="text/css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

<title>Apache Accumulo 1.5.3 Release Notes</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.dataTables.min.js"></script>
<script src="/js/dataTables.bootstrap.js"></script>
<script>
  // show location of canonical site if not currently on the canonical site
  $(function() {
    var host = window.location.host;
    if (typeof host !== 'undefined' && host !== 'accumulo.apache.org') {
      $('#non-canonical').show();
    }
  });

  

  $(function() {
    // decorate section headers with anchors
    return $("h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="fa fa-link"></i>';
      if (id) {
        return $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });

  // configure Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  if (ga.hasOwnProperty('loaded') && ga.loaded === true) {
    ga('create', 'UA-50934829-1', 'apache.org');
    ga('send', 'pageview');
  }
</script>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-items">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Accumulo</a>
    </div>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="nav navbar-nav">
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Project<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li id="nav_index"><a href="/">Home</a></li>
          <li id="nav_downloads"><a href="/downloads/">Downloads</a></li>
          <li id="nav_features"><a href="/notable_features">Features</a></li>
          <li><a href="https://www.apache.org/licenses/LICENSE-2.0"><i class="fa fa-external-link"></i> License</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li id="nav_getinvolved"><a href="/get_involved">Get Involved</a></li>
          <li id="nav_mailinglists"><a href="/mailing_list">Mailing Lists</a></li>
          <li id="nav_people"><a href="/people">People</a></li>
          <li id="nav_blog"><a href="https://blogs.apache.org/accumulo">Blog</a></li>
          <li class="divider"></li>
          <li class="dropdown-header">Governance</li>
          <li id="nav_bylaws"><a href="/bylaws">Bylaws</a></li>
          <li id="nav_consensusbuilding"><a href="/governance/consensusBuilding">Consensus Building</a></li>
          <li id="nav_lazyconsensus"><a href="/governance/lazyConsensus">Lazy Consensus</a></li>
          <li id="nav_govreleasing"><a href="/governance/releasing">Releasing</a></li>
          <li id="nav_voting"><a href="/governance/voting">Voting</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Development<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li id="nav_source"><a href="/source">Source &amp; Guide</a></li>
          <li id="nav_git"><a href="/git">Git Workflow</a></li>
          <li id="nav_versioning"><a href="/versioning">Versioning</a></li>
          <li id="nav_contrib"><a href="/contrib">Contrib Projects</a></li>
          <li id="nav_rb"><a href="/rb">Review Board</a></li>
          <li id="nav_releasing"><a href="/releasing">Making Releases</a></li>
          <li id="nav_verify_release"><a href="/verifying_releases">Verifying Releases</a></li>
          <li><a href="https://issues.apache.org/jira/browse/ACCUMULO"><i class="fa fa-external-link"></i> Issues</a></li>
          <li><a href="https://builds.apache.org/view/A/view/Accumulo"><i class="fa fa-external-link"></i> Builds</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li class="dropdown-header">Manual</li>
          <li><a href="/1.6/accumulo_user_manual">1.6</a></li>
          <li><a href="/1.7/accumulo_user_manual">1.7</a></li>
          <li class="divider"></li>
          <li class="dropdown-header">Javadoc</li>
          <li><a href="/1.6/apidocs">1.6</a></li>
          <li><a href="/1.7/apidocs">1.7</a></li>
          <li class="divider"></li>
          <li class="dropdown-header">Examples</li>
          <li id="nav_examples_1_6"><a href="/1.6/examples">1.6</a></li>
          <li id="nav_examples_1_7"><a href="/1.7/examples">1.7</a></li>
          <li class="divider"></li>
          <li id="old_documentation"><a href="/old_documentation">Docs for Older Verisons</a></li>
          <li id="nav_screenshots"><a href="/screenshots">Screenshots</a></li>
          <li id="nav_papers"><a href="/papers">Papers &amp; Other Links</a></li>
          <li id="nav_glossary"><a href="/glossary">Glossary</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Release Notes<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/release_notes/1.7.1">1.7.1</a></li>
          <li><a href="/release_notes/1.6.5">1.6.5</a></li>
          <li class="divider"></li>
          <li><a href="/release_notes/">Archives</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Other<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/papers">Papers &amp; Presentations</a></li>
            <li><a href="/projects">Community Projects</a></li>
          </ul>
          </li>
          <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">ASF Links<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="https://www.apache.org"><i class="fa fa-external-link"></i> Apache Software Foundation</a></li>
            <li><a href="https://www.apache.org/foundation/sponsorship"><i class="fa fa-external-link"></i> Sponsorship</a></li>
            <li><a href="https://www.apache.org/security/"><i class="fa fa-external-link"></i> Security</a></li>
            <li><a href="https://www.apache.org/foundation/thanks"><i class="fa fa-external-link"></i> Thanks</a></li>
            <li><a href="https://www.apache.org/foundation/policies/conduct"><i class="fa fa-external-link"></i> Code of Conduct</a></li>
          </ul>
          </li>
        </ul>
        <form method="GET" action="http://search-hadoop.com/" class="navbar-form navbar-right" role="search">
          <div class="form-group">
            <input type="text" name="q" class="form-control" placeholder="Search"/>
            <input type="hidden" name="fc_project" value="Accumulo"/>
          </div>
          <button type="submit" class="btn btn-default"><span class="glyphicon glyphicon-search"></span></button>
        </form>
      </div>
    </div>
  </nav>


<div class="container-fluid">
  <div class="row">
    <div class="col-md-2" id="sidebar">
      <div style="text-align: center">
        <a href="/"><img id="logo" alt="Apache Accumulo &trade;" class="img-responsive" src="/images/accumulo-logo.png"/></a>
        <br />
        Latest 1.7 release: <strong>1.7.1</strong><br />
        Latest 1.6 release: <strong>1.6.5</strong><br />
        <br>
        <a id="download-button-sidebar" class="btn btn-success btn-block" href="/downloads/" role="button">Download</a>
      </div>
      <hr>
      
<table class="table" id="sociallinks">
  <tbody>
    <tr>
      <td><img src="/images/Twitter_logo_blue.png" alt="Twitter" style="height: 1em" /></td>
      <td><a href="https://twitter.com/apacheaccumulo">@ApacheAccumulo</a></td>
    </tr>
    <tr>
      <td><img src="/images/InBug-16px_0.png" alt="Linked in" /></td>
      <td><a href="https://www.linkedin.com/groups/Apache-Accumulo-Professionals-4554913">Apache Accumulo Professionals</a></td>
    </tr>
    <tr>
      <td><img src="/images/GitHub-Mark-32px.png" alt="GitHub" style="height: 1em" /></td>
      <td><a href="https://github.com/apache/accumulo">apache / accumulo</a></td>
    </tr>
    <tr>
      <td><span class="glyphicon glyphicon-comment"></span></td>
      <td><a href="irc://chat.freenode.net/accumulo">#accumulo @ freenode</a></td>
    </tr>
    <tr>
      <td><img src="/favicon.png" alt="Blog" width="16" /></td>
      <td><a href="https://blogs.apache.org/accumulo">Apache Accumulo Blog</a></td>
    </tr>
  </tbody>
</table>



      <hr>
      <a id="accumulo-summit-logo" href="http://accumulosummit.com/"><img alt="Accumulo Summit" class="img-responsive" src="/images/accumulo-summit.png"></a>
    </div>
    <div class="col-md-8 col-md-offset-1">

      <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
        Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
      </div>
      <div id="content">
        
        <h1 class="title">Apache Accumulo 1.5.3 Release Notes</h1>
        
        <p>Apache Accumulo 1.5.3 is a bug-fix release for the 1.5 series. It is likely to be the last
1.5 release, with development shifting towards newer release lines. We recommend upgrading
to a newer version to continue to get bug fixes and new features.</p>

<p>In the context of Accumulo’s <a href="http://semver.org">Semantic Versioning</a> <a href="https://github.com/apache/accumulo/blob/1.7.0/README.md#api">guidelines</a>,
this is a “patch version”. This means that there should be no public API changes. Any
changes which were made were done in a backwards-compatible manner. Code that
runs against 1.5.2 should run against 1.5.3.</p>

<p>We’d like to thank all of the committers and contributors which had a part in
making this release, from code contributions to testing. Everyone’s efforts are
greatly appreciated.</p>

<h2 id="security-changes">Security Changes</h2>

<h3 id="sslv3-disabled-poodleaccumulo-3316"><a href="https://issues.apache.org/jira/browse/ACCUMULO-3316">SSLv3 disabled (POODLE)</a></h3>

<p>Many Accumulo services were capable of enabling wire encryption using
SSL connectors. To be safe, <a href="https://issues.apache.org/jira/browse/ACCUMULO-3316">ACCUMULO-3316</a> disables the problematic SSLv3 version by default which was
potentially susceptible to the man-in-the-middle attack. <a href="https://issues.apache.org/jira/browse/ACCUMULO-3317">ACCUMULO-3317</a> also disables SSLv3 in the monitor,
so it will not accept SSLv3 client connections, when running it with https.</p>

<h2 id="notable-bug-fixes">Notable Bug Fixes</h2>

<h3 id="sourceswitchingiterator-deadlockaccumulo-3745"><a href="https://issues.apache.org/jira/browse/ACCUMULO-3745">SourceSwitchingIterator Deadlock</a></h3>

<p>An instance of SourceSwitchingIterator, the Accumulo iterator which transparently manages
whether data for a tablet read from memory (the in-memory map) or disk (HDFS after a minor
compaction), was found deadlocked in a production system.</p>

<p>This deadlock prevented the scan and the minor compaction from ever successfully completing
without restarting the tablet server. <a href="https://issues.apache.org/jira/browse/ACCUMULO-3745">ACCUMULO-3745</a> fixes the inconsistent synchronization
inside of the SourceSwitchingIterator to prevent this deadlock from happening in the future.</p>

<p>The only mitigation of this bug was to restart the tablet server that is deadlocked.</p>

<h3 id="table-flush-blocked-indefinitelyaccumulo-3597"><a href="https://issues.apache.org/jira/browse/ACCUMULO-3597">Table flush blocked indefinitely</a></h3>

<p>While running the Accumulo RandomWalk distributed test, it was observed that all activity in
Accumulo had stopped and there was an offline Accumulo metadata table tablet. The system first
tried to flush a user tablet, but the metadata table was not online (likely due to the agitation
process which stops and starts Accumulo processes during the test). After this call, a call to
load the metadata tablet was queued but could not complete until the previous flush call. Thus,
a deadlock occurred.</p>

<p>This deadlock happened because the synchronous flush call could not complete before the load
tablet call completed, but the load tablet call couldn’t run because of connection caching we
perform in Accumulo’s RPC layer to reduce the quantity of sockets we need to create to send data.
<a href="https://issues.apache.org/jira/browse/ACCUMULO-3597">ACCUMULO-3597</a> prevents this deadlock by forcing the use of a non-cached connection for the RPC
message requesting a metadata tablet to be loaded.</p>

<p>While this feature does result in additional network resources to be used, the concern is minimal
because the number of metadata tablets is typically very small with respect to the total number of
tablets in the system.</p>

<p>The only mitigation of this bug was to restart the tablet server that is hung.</p>

<h3 id="rpc-connections-not-cachedaccumulo-3574"><a href="https://issues.apache.org/jira/browse/ACCUMULO-3574">RPC Connections not cached</a></h3>

<p>It was observed that the underlying connection for invoking RPCs were not actually being cached,
despite it being requested that they should be cached. While this did not result in a noticed
performance impact, it was deficiency. <a href="https://issues.apache.org/jira/browse/ACCUMULO-3574">ACCUMULO-3574</a> ensures that connections are cached when
it is requested that they are.</p>

<h3 id="deletes-on-apache-thrift-proxy-api-ignoredaccumulo-3474"><a href="https://issues.apache.org/jira/browse/ACCUMULO-3474">Deletes on Apache Thrift Proxy API ignored</a></h3>

<p>A user noted that when trying to specify a delete using the Accumulo Thrift Proxy, the delete
was treated as an update. <a href="https://issues.apache.org/jira/browse/ACCUMULO-3474">ACCUMULO-3474</a> fixes the Proxy server such that deletes are properly
respected as specified by the client.</p>

<h2 id="other-changes">Other Changes</h2>

<p>Other changes for this version can be found <a href="https://issues.apache.org/jira/browse/ACCUMULO/fixforversion/12328662">in JIRA</a>.</p>

<h2 id="testing">Testing</h2>

<p>Each unit and functional test only runs on a single node, while the RandomWalk
and Continuous Ingest tests run on any number of nodes. <em>Agitation</em> refers to
randomly restarting Accumulo processes and Hadoop DataNode processes, and, in
HDFS High-Availability instances, forcing NameNode fail-over.</p>

<p>During testing, multiple Accumulo developers noticed some stability issues
with HDFS using Apache Hadoop 2.6.0 when restarting Accumulo processes and
HDFS datanodes. The developers investigated these issues as a part of the
normal release testing procedures, but were unable to find a definitive cause
of these failures. Users are encouraged to follow
<a href="https://issues.apache.org/jira/browse/ACCUMULO-2388">ACCUMULO-2388</a> if they wish to follow any future developments.
One possible workaround is to increase the <code class="highlighter-rouge">general.rpc.timeout</code> in the
Accumulo configuration from <code class="highlighter-rouge">120s</code> to <code class="highlighter-rouge">240s</code>.</p>

<table id="release_notes_testing">
  <tr>
    <th>OS</th>
    <th>Hadoop</th>
    <th>Nodes</th>
    <th>ZooKeeper</th>
    <th>HDFS High-Availability</th>
    <th>Tests</th>
  </tr>
  <tr>
    <td>Gentoo</td>
    <td>2.6.0</td>
    <td>1</td>
    <td>3.4.5</td>
    <td>No</td>
    <td>Unit and Integration Tests</td>
  </tr>
  <tr>
    <td>Centos 6.5</td>
    <td>2.7.1</td>
    <td>6</td>
    <td>3.4.5</td>
    <td>No</td>
    <td>Continuous Ingest and Verify</td>
  </tr>
</table>


      </div>

      
<footer>

  <p><a href="https://www.apache.org"><img src="/images/feather-small.gif" alt="Apache Software Foundation" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2016 The Apache Software
Foundation, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>. Apache
Accumulo, Accumulo, Apache Hadoop, Apache HBase, Apache Cassandra,
Apache Thrift, Apache, the Apache feather logo, and the Apache Accumulo project
logo are trademarks of the <a href="https://www.apache.org">Apache Software Foundation</a>.</p>

  <p>Site created with <a href="https://getbootstrap.com">Bootstrap</a> including icons from
<a href="https://glyphicons.com">GLYPHICONS</a> and <a href="http://fontawesome.io">Font Awesome</a>.</p>

</footer>


    </div>

  </div>
</div>

</body>
</html>
