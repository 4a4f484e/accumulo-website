<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="/css/dataTables.bootstrap.css" rel="stylesheet">
<link href="/css/accumulo.css" rel="stylesheet" type="text/css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

<title>Apache Accumulo 1.6.3 Release Notes</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.dataTables.min.js"></script>
<script src="/js/dataTables.bootstrap.js"></script>
<script>
  // show location of canonical site if not currently on the canonical site
  $(function() {
    var host = window.location.host;
    if (typeof host !== 'undefined' && host !== 'accumulo.apache.org') {
      $('#non-canonical').show();
    }
  });

  
  // decorate menu with currently navigated page
  $(function() {
    $("#nav_rn_163").addClass("active");
  });
  

  $(function() {
    // decorate section headers with anchors
    return $("h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="fa fa-link"></i>';
      if (id) {
        return $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });

  // configure Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  if (ga.hasOwnProperty('loaded') && ga.loaded === true) {
    ga('create', 'UA-50934829-1', 'apache.org');
    ga('send', 'pageview');
  }
</script>
</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-items">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/"><img id="nav-logo" alt="Apache Accumulo" class="img-responsive" src="/images/accumulo-logo.png" width="200"/></a>
    </div>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="nav navbar-nav">
        <li class="nav-link"><a href="/downloads">Download</a></li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li class="dropdown-header">1.7.1 Release (Latest)</li>
          <li id="nav_rn_171"><a href="/release_notes/1.7.1">Release Notes</a></li>
          <li><a href="/1.7/accumulo_user_manual">User Manual</a></li>
          <li><a href="/1.7/apidocs">Javadoc</a></li>
          <li id="nav_examples_17"><a href="/1.7/examples">Examples</a></li>
          <li class="divider"></li>
          <li class="dropdown-header">1.6.5 Release</li>
          <li id="nav_rn_165"><a href="/release_notes/1.6.5">Release Notes</a></li>
          <li><a href="/1.6/accumulo_user_manual">User Manual</a></li>
          <li><a href="/1.6/apidocs">Javadoc</a></li>
          <li id="nav_examples_16"><a href="/1.6/examples">Examples</a></li>
          <li class="divider"></li>
          <li id="nav_features"><a href="/notable_features">Features</a></li>
          <li id="nav_rn"><a href="/release_notes">Release Notes Archive</a></li>
          <li id="old_documentation"><a href="/old_documentation">Documentation Archive</a></li>
          <li id="nav_screenshots"><a href="/screenshots">Screenshots</a></li>
          <li id="nav_papers"><a href="/papers">Papers &amp; Presentations</a></li>
          <li id="nav_glossary"><a href="/glossary">Glossary</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li id="nav_getinvolved"><a href="/get_involved">Get Involved</a></li>
          <li id="nav_mailinglists"><a href="/mailing_list">Mailing Lists</a></li>
          <li id="nav_people"><a href="/people">People</a></li>
          <li id="nav_blog"><a href="https://blogs.apache.org/accumulo">Blog <i class="fa fa-external-link"></i></a></li>
          <li id="nav_projects"><a href="/projects">Community Projects</a></li>
          <li class="divider"></li>
          <li class="dropdown-header">Governance</li>
          <li id="nav_bylaws"><a href="/bylaws">Bylaws</a></li>
          <li id="nav_consensusbuilding"><a href="/governance/consensusBuilding">Consensus Building</a></li>
          <li id="nav_lazyconsensus"><a href="/governance/lazyConsensus">Lazy Consensus</a></li>
          <li id="nav_govreleasing"><a href="/governance/releasing">Releasing</a></li>
          <li id="nav_voting"><a href="/governance/voting">Voting</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Development<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="https://issues.apache.org/jira/browse/ACCUMULO">Issue Tracker <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://github.com/apache/accumulo/pulls">Pull Requests <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://builds.apache.org/view/A/view/Accumulo">Jenkins Builds <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://travis-ci.org/apache/accumulo">TravisCI Builds <i class="fa fa-external-link"></i></a></li>
          <li class="divider"></li>
          <li class="dropdown-header">Guides</li>
          <li id="nav_source"><a href="/source">Source &amp; Guide</a></li>
          <li id="nav_git"><a href="/git">Git Workflow</a></li>
          <li id="nav_versioning"><a href="/versioning">Versioning</a></li>
          <li id="nav_contrib"><a href="/contrib">Contrib Projects</a></li>
          <li id="nav_rb"><a href="/rb">Review Board</a></li>
          <li id="nav_releasing"><a href="/releasing">Making Releases</a></li>
          <li id="nav_verify_release"><a href="/verifying_releases">Verifying Releases</a></li>
        </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Apache Software Foundation<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="https://www.apache.org">Apache Homepage <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/licenses/LICENSE-2.0">License <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/foundation/sponsorship">Sponsorship <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/security">Security <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/foundation/thanks">Thanks <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <i class="fa fa-external-link"></i></a></li>
        </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <h1 class="title">Apache Accumulo 1.6.3 Release Notes</h1>
          
          <p>Apache Accumulo 1.6.3 is a maintenance release on the 1.6 version branch.
This release contains changes from over 63 issues, comprised of bug-fixes,
performance improvements and better test cases. See <a href="https://issues.apache.org/jira/browse/ACCUMULO/fixforversion/12329154">JIRA</a> for a
complete list.</p>

<p>Users of 1.6.0, 1.6.1, and 1.6.2 are strongly encouraged to update as soon as
possible to benefit from the improvements with very little concern in change
of underlying functionality. Users of 1.4 or 1.5 that are seeking to upgrade
to 1.6 should consider 1.6.3 as a starting point. For information about
improvements since Accumulo 1.5, see the <a href="/release_notes/1.6.0">1.6.0</a>, <a href="/release_notes/1.6.1">1.6.1</a>, and
<a href="/release_notes/1.6.2">1.6.2</a> release notes.</p>

<h2 id="fixed-batchwriter-hold-time-error">Fixed BatchWriter hold time error</h2>

<p>In previous releases, a <code class="highlighter-rouge">BatchWriter</code> could fail with a
<code class="highlighter-rouge">MutationsRejectedException</code> with server errors. If inspection of the tserver
logs showed <code class="highlighter-rouge">HoldTimeoutException</code> was the cause, the workaround was to
increase the value of <code class="highlighter-rouge">general.rpc.timeout</code>. Changing this setting is no
longer necessary as this bug was fixed by <a href="https://issues.apache.org/jira/browse/ACCUMULO-2388">ACCUMULO-2388</a>.</p>

<h2 id="severe-bug-fixes">Severe bug fixes</h2>

<ul>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3597">ACCUMULO-3597</a> Fixed a deadlock where a table flush and
metadata tablet load were waiting on each other.  This was a rare bug. If it
occurred it could impact the availability of Accumulo as most Accumulo
operations depend on metadata tablets.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3709">ACCUMULO-3709</a> Fixed a potential data loss bug where
AccumuloOutputFormat close did not rethrow exception.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3745">ACCUMULO-3745</a> Fixed a deadlock in SourceSwitchingIterator
that occurred when using custom iterators that called <code class="highlighter-rouge">deepCopy</code>.  This bug
would cause scans to hang indefinitely until the offending tserver was killed.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3859">ACCUMULO-3859</a> Fixed a race condition that could prevent table
constraints from ever loading for a Tablet. It is likely to only affect users
when the constraint is first added to a table.</li>
</ul>

<h2 id="notable-bug-fixes">Notable bug fixes</h2>

<ul>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3589">ACCUMULO-3589</a> <code class="highlighter-rouge">du</code> in Shell does not check table existence.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3692">ACCUMULO-3692</a> Offline’ing a table disabled subsequent balancing.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3696">ACCUMULO-3696</a> Tracing could queue too many traces</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3718">ACCUMULO-3718</a> Fixed a bug that prevented a Mutation from
being created in Scala.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3747">ACCUMULO-3747</a> Thrashing tablet servers would be removed from the Monitor’s Dead Server list.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3750">ACCUMULO-3750</a> Fixed an issue where the Master would perpetually
fail when there was a bad <code class="highlighter-rouge">instance.secret</code> setting.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3784">ACCUMULO-3784</a> Fixed a bug in <code class="highlighter-rouge">getauths</code> Shell command where it
treated visibilities that differed only in case as the same.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3796">ACCUMULO-3796</a> Added documentation about turning off zone
reclaim.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3880">ACCUMULO-3880</a> Fixed an issue where malformed configuration caused
TabletServers to shutdown.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-3890">ACCUMULO-3890</a> Fixed a performance issue with CredentialProvider. Information
stored in the CredentialProvider was not cached which resulted in repeatedly reading the
file from HDFS which can degrade HDFS performance.</li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<p>During testing <a href="https://issues.apache.org/jira/browse/HDFS-8406">HDFS-8406</a> was encountered which is summarized by write-ahead log recovery
that was never completed due to an inability to recover the HDFS lease on the WAL. To work around
this issue, the following steps can be done:</p>

<ol>
  <li>Locate block for walog whose lease can not be recovered.</li>
  <li>Copy block into HDFS as temp file TMP_WALOG</li>
  <li>Delete the walog whose lease can not be recovered.</li>
  <li>Move TMP_WALOG to the filename of the walog deleted in the previous step.</li>
</ol>

<p>Using the <code class="highlighter-rouge">fetchColumns()</code> method on a scanner in conjunction with custom iterators that 
add column families in their <code class="highlighter-rouge">seek()</code> method can lead to unexpected behavior.  See 
<a href="https://issues.apache.org/jira/browse/ACCUMULO-3905">ACCUMULO-3905</a> for more details.  In that issue javadoc updates were made,
but the updates did not make it into 1.6.3.</p>

<h2 id="testing">Testing</h2>

<p>Each unit and functional test only runs on a single node, while the RandomWalk
and Continuous Ingest tests run on any number of nodes. <em>Agitation</em> refers to
randomly restarting Accumulo processes and Hadoop Datanode processes, and, in
HDFS High-Availability instances, forcing NameNode failover.</p>

<table id="release_notes_testing" class="table">
  <thead>
    <tr>
      <th>OS</th>
      <th>Hadoop</th>
      <th>Nodes</th>
      <th>ZooKeeper</th>
      <th>HDFS HA</th>
      <th>Tests</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Amazon Linux 2014.09</td>
      <td>2.6.0</td>
      <td>20</td>
      <td>3.4.5</td>
      <td>No</td>
      <td>24hr ContinuousIngest w/ verification w/ and w/o agitation</td>
    </tr>
    <tr>
      <td>Amazon Linux 2014.09</td>
      <td>2.6.0</td>
      <td>20</td>
      <td>3.4.5</td>
      <td>No</td>
      <td>24hr Randomwalk w/o agitation</td>
    </tr>
    <tr>
      <td>Centos 6.5</td>
      <td>2.7.1</td>
      <td>6</td>
      <td>3.4.5</td>
      <td>No</td>
      <td>Continuous Ingest and Verify (6B entries)</td>
    </tr>
    <tr>
      <td>Centos 6.6</td>
      <td>2.2.0</td>
      <td>6</td>
      <td>3.4.5</td>
      <td>No</td>
      <td>All integration test passed.  Some needed to be run a 2nd time.</td>
    </tr>
  </tbody>
</table>


        </div>

        
<footer>

  <p><a href="https://www.apache.org"><img src="/images/feather-small.gif" alt="Apache Software Foundation" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2016 The Apache Software Foundation. Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>

  <p>Site created with <a href="https://getbootstrap.com">Bootstrap</a> including icons from
<a href="https://glyphicons.com">GLYPHICONS</a> and <a href="http://fontawesome.io">Font Awesome</a>.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
